<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>pages/CreateMeetingPage/CreateMeetingPage.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#AboutPage">AboutPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#AccountPage">AccountPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#AppFooter">AppFooter</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#AppHeader">AppHeader</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Breadcrumbs">Breadcrumbs</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#CreateMeetingPage">CreateMeetingPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#ForgotPasswordPage">ForgotPasswordPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#NotFoundPage">NotFoundPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#PasswordStrengthHint">PasswordStrengthHint</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#RegisterPage">RegisterPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#ResetPasswordPage">ResetPasswordPage</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#RotatingText">RotatingText</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#Silk">Silk</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#SitemapPage">SitemapPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#ToastProvider">ToastProvider</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#TopLoadingBar">TopLoadingBar</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#apiFetch">apiFetch</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#auth">auth</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#changePassword">changePassword</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#cleanupAllPeers">cleanupAllPeers</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#closePeer">closePeer</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#connectSocket">connectSocket</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#connectVideoSocket">connectVideoSocket</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#connectVoiceSocket">connectVoiceSocket</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#createAndSendOffer">createAndSendOffer</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#createMeeting">createMeeting</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#deleteMeetingApi">deleteMeetingApi</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#deleteProfile">deleteProfile</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#disconnectSocket">disconnectSocket</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#disconnectVideoSocket">disconnectVideoSocket</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#disconnectVoiceSocket">disconnectVoiceSocket</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#ensurePeerConnection">ensurePeerConnection</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#getAuthToken">getAuthToken</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#getIceServers">getIceServers</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#getMeeting">getMeeting</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#getProfile">getProfile</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#handleIncomingAnswer">handleIncomingAnswer</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#handleIncomingCandidate">handleIncomingCandidate</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#handleIncomingOffer">handleIncomingOffer</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#joinRoom">joinRoom</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#joinVideoRoom">joinVideoRoom</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#joinVoiceRoom">joinVoiceRoom</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#leaveVideoRoom">leaveVideoRoom</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#listMeetings">listMeetings</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#loginWithEmailPassword">loginWithEmailPassword</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onChatMessage">onChatMessage</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onExistingUsers">onExistingUsers</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onRoomFull">onRoomFull</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onSocketConnect">onSocketConnect</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onSocketDisconnect">onSocketDisconnect</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onSocketError">onSocketError</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onUserJoined">onUserJoined</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onUserLeft">onUserLeft</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVideoChatMessage">onVideoChatMessage</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVideoConnect">onVideoConnect</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVideoDisconnect">onVideoDisconnect</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVideoError">onVideoError</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVideoMediaState">onVideoMediaState</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVideoMediaStates">onVideoMediaStates</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVideoRoomError">onVideoRoomError</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVideoRoomFull">onVideoRoomFull</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVideoRoomJoined">onVideoRoomJoined</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVideoScreenShare">onVideoScreenShare</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVideoSignal">onVideoSignal</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVideoUserJoined">onVideoUserJoined</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVideoUserLeft">onVideoUserLeft</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVoiceConnect">onVoiceConnect</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVoiceDisconnect">onVoiceDisconnect</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVoiceError">onVoiceError</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVoiceExistingUsers">onVoiceExistingUsers</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVoicePeerMediaToggle">onVoicePeerMediaToggle</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVoiceRoomFull">onVoiceRoomFull</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVoiceUserJoined">onVoiceUserJoined</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVoiceUserLeft">onVoiceUserLeft</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVoiceWebrtcAnswer">onVoiceWebrtcAnswer</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVoiceWebrtcCandidate">onVoiceWebrtcCandidate</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#onVoiceWebrtcOffer">onVoiceWebrtcOffer</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#registerUser">registerUser</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#requestPasswordReset">requestPasswordReset</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#sendChatMessage">sendChatMessage</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#sendVideoChatMessage">sendVideoChatMessage</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#sendVideoMediaState">sendVideoMediaState</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#sendVideoScreenShare">sendVideoScreenShare</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#sendVideoSignal">sendVideoSignal</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#sendVoiceIceCandidate">sendVoiceIceCandidate</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#sendVoiceMediaToggle">sendVoiceMediaToggle</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#sendWebrtcAnswer">sendWebrtcAnswer</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#sendWebrtcOffer">sendWebrtcOffer</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#setAuthToken">setAuthToken</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#updateEmail">updateEmail</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#updateMeeting">updateMeeting</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#updateProfile">updateProfile</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#useToast">useToast</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">pages/CreateMeetingPage/CreateMeetingPage.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
/**
 * Dashboard page to create or join a meeting.
 * GUI-only for now. Later this page should connect to backend / WebRTC.
 *
 * @returns {JSX.Element} Meeting dashboard with create/join forms.
 */
import { useEffect, useState } from 'react';
import { Hash, PencilLine } from 'lucide-react';
import { Tooltip } from 'react-tooltip';
import './CreateMeetingPage.scss';
import { useToast } from '../../components/layout/ToastProvider';
import { createMeeting, getMeeting, listMeetings, updateMeeting, deleteMeetingApi, } from '../../services/api';
import { AUTH_TOKEN_EVENT, getAuthToken } from '../../services/authToken';
/**

 * React component that acts as the meetings dashboard.

 * Lets the user simulate creating or joining a meeting and shows demo toasts.

 *

 * @returns {JSX.Element} Layout with create/join meeting forms and helper text.

 */
export function CreateMeetingPage() {
    const { showToast } = useToast();
    const today = new Date().toISOString().split('T')[0];
    const [authTokenState, setAuthTokenState] = useState(() => getAuthToken() ?? '');
    const [meetingName, setMeetingName] = useState('');
    const [meetingId, setMeetingId] = useState('');
    const [date, setDate] = useState(today);
    const [time, setTime] = useState('09:00');
    const [duration, setDuration] = useState(30);
    const [description, setDescription] = useState('');
    const [createdMeeting, setCreatedMeeting] = useState(null);
    const [selectedMeeting, setSelectedMeeting] = useState(null);
    const [meetings, setMeetings] = useState([]);
    const [isCreating, setIsCreating] = useState(false);
    const [isLoading, setIsLoading] = useState(false);
    const [editingId, setEditingId] = useState(null);
    const [createErrorMessage, setCreateErrorMessage] = useState(null);
    const [joinErrorMessage, setJoinErrorMessage] = useState(null);
    const isCreateValid = meetingName.trim().length > 0 &amp;&amp;
        date.trim().length > 0 &amp;&amp;
        time.trim().length > 0 &amp;&amp;
        Number(duration) > 0;
    const isJoinValid = meetingId.trim().length > 0;
    const isAuthenticated = Boolean(authTokenState.trim());
    const loadMeetings = async () => {
        if (!isAuthenticated)
            return;
        setIsLoading(true);
        try {
            const data = await listMeetings();
            setMeetings(data);
        }
        catch (error) {
            showToast(error.message ?? 'No se pudieron cargar las reuniones.', 'error');
        }
        finally {
            setIsLoading(false);
        }
    };
    useEffect(() => {
        if (authTokenState.trim()) {
            void loadMeetings();
        }
        else {
            setMeetings([]);
        }
        // eslint-disable-next-line react-hooks/exhaustive-deps
    }, [authTokenState]);
    useEffect(() => {
        const handleAuthChange = () => setAuthTokenState(getAuthToken() ?? '');
        window.addEventListener('storage', handleAuthChange);
        window.addEventListener(AUTH_TOKEN_EVENT, handleAuthChange);
        return () => {
            window.removeEventListener('storage', handleAuthChange);
            window.removeEventListener(AUTH_TOKEN_EVENT, handleAuthChange);
        };
    }, []);
    const resetForm = (options) => {
        const keepMeetingId = Boolean(options?.preserveMeetingId);
        setMeetingName('');
        setDate(today);
        setTime('09:00');
        setDuration(30);
        setDescription('');
        if (!keepMeetingId) {
            setMeetingId('');
        }
        setSelectedMeeting(null);
        setCreateErrorMessage(null);
    };
    const handleCreateMeeting = async (event) => {
        event.preventDefault();
        if (!isAuthenticated) {
            showToast('Inicia sesion para crear reuniones.', 'error');
            return;
        }
        if (!isCreateValid || isCreating) {
            setCreateErrorMessage('Completa nombre, fecha, hora y duracion (minimo 5 minutos) antes de crear.');
            return;
        }
        setIsCreating(true);
        try {
            const payload = {
                title: meetingName.trim(),
                date,
                time,
                duration: Number(duration),
                description: description.trim() || undefined,
            };
            if (editingId) {
                await updateMeeting(editingId, payload);
                showToast('Reunion actualizada correctamente.', 'success');
                setEditingId(null);
                setCreatedMeeting(null);
                resetForm();
            }
            else {
                const response = await createMeeting(payload);
                setCreatedMeeting(response.meeting);
                setMeetingId(response.meeting.id);
                showToast('Reunion creada correctamente.', 'success');
                resetForm({ preserveMeetingId: true });
            }
            setCreateErrorMessage(null);
            await loadMeetings();
        }
        catch (error) {
            const message = error?.message ??
                'No se pudo guardar la Reunion. Revisa los datos e intentalo de nuevo.';
            setCreateErrorMessage('Revisa los campos y vuelve a intentar.');
            showToast(message, 'error');
        }
        finally {
            setIsCreating(false);
        }
    };
    const handleEditMeeting = (meeting) => {
        setEditingId(meeting.id);
        setMeetingName(meeting.title);
        setDate(meeting.date);
        setTime(meeting.time);
        setDuration(meeting.duration);
        setDescription(meeting.description ?? '');
        showToast('Editando Reunion. Guarda los cambios.', 'info');
    };
    const handleDeleteMeeting = async (id) => {
        if (!isAuthenticated) {
            showToast('Inicia sesion para eliminar reuniones.', 'error');
            return;
        }
        setIsLoading(true);
        try {
            await deleteMeetingApi(id);
            showToast('Reunion eliminada.', 'success');
            if (editingId === id) {
                setEditingId(null);
                setCreatedMeeting(null);
            }
            await loadMeetings();
        }
        catch (error) {
            showToast(error.message ?? 'No se pudo eliminar la Reunion.', 'error');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleLookupMeeting = async (event) => {
        event.preventDefault();
        if (!isAuthenticated) {
            showToast('Inicia sesion para consultar reuniones.', 'error');
            return;
        }
        if (!isJoinValid) {
            setJoinErrorMessage('Ingresa el ID de la reunion para continuar.');
            return;
        }
        const trimmedId = meetingId.trim();
        setIsLoading(true);
        try {
            const meeting = await getMeeting(trimmedId);
            setSelectedMeeting(meeting);
            setJoinErrorMessage(null);
            showToast('Reunion encontrada.', 'success');
            const targetUrl = `${window.location.origin}/meeting/${encodeURIComponent(trimmedId)}`;
            window.open(targetUrl, '_blank', 'noreferrer');
        }
        catch (error) {
            setSelectedMeeting(null);
            const message = error?.message ??
                'No se pudo encontrar la reunion. Verifica el ID (formato abc-defg-hij) e intentalo de nuevo.';
            setJoinErrorMessage('Verifica que el ID tenga el formato abc-defg-hij y copialo completo.');
            showToast(message, 'error');
        }
        finally {
            setIsLoading(false);
        }
    };
    return (_jsx("div", { className: "dashboard-wrapper", children: _jsxs("div", { className: "container", children: [_jsxs("section", { className: "dashboard-card meeting-card", "aria-labelledby": "meeting-dashboard-title", children: [_jsx("header", { className: "dashboard-main-header meeting-header", children: _jsxs("div", { children: [_jsx("h1", { id: "meeting-dashboard-title", children: "Bienvenido, Usuario" }), _jsx("p", { children: "Inicia o unete a una videoconferencia." })] }) }), _jsxs("div", { className: "form-group", style: { marginBottom: '20px' }, children: [_jsx("span", { className: `badge ${isAuthenticated ? 'badge-success' : 'badge-warning'}`, "aria-label": "Estado de autenticacion", children: isAuthenticated ? 'Sesion activa' : 'Sin sesion' }), !isAuthenticated &amp;&amp; (_jsx("p", { className: "field-help", children: "Inicia sesion para crear, listar o consultar reuniones protegidas." }))] }), _jsxs("div", { className: "meeting-actions-row", children: [_jsxs("section", { className: "meeting-column meeting-column-card", "aria-labelledby": "create-meeting-title", children: [_jsx("header", { className: "meeting-column-header", children: _jsxs("div", { children: [_jsx("h2", { id: "create-meeting-title", className: "meeting-column-title", children: "Crear nueva reunion" }), _jsx("p", { className: "meeting-column-subtitle", children: "Inicia una reunion instantanea e invita participantes." })] }) }), _jsxs("div", { className: "meeting-form-steps", "aria-hidden": "true", children: [_jsx("span", { className: "meeting-chip meeting-chip-muted", children: "1. Datos basicos" }), _jsx("span", { className: "meeting-chip meeting-chip-muted", children: "2. Fecha y hora" }), _jsx("span", { className: "meeting-chip meeting-chip-muted", children: "3. Detalles" })] }), _jsxs("form", { id: "create-meeting-form", className: "meeting-form", onSubmit: handleCreateMeeting, children: [_jsx("div", { className: "meeting-form-section", children: _jsxs("div", { className: "form-group", children: [_jsx("label", { className: "form-label", htmlFor: "meetingName", children: "Nombre de la reunion" }), _jsxs("div", { className: "field-wrapper", children: [_jsx("span", { className: "field-icon", "aria-hidden": "true", children: _jsx(PencilLine, { size: 16 }) }), _jsx("input", { className: "form-input", id: "meetingName", name: "meetingName", type: "text", placeholder: "ej. Reunion de equipo", required: true, value: meetingName, "aria-describedby": createErrorMessage ? 'create-meeting-tooltip' : undefined, "data-tooltip-id": "create-meeting-tooltip", onChange: (event) => {
                                                                            setMeetingName(event.target.value);
                                                                            setCreateErrorMessage(null);
                                                                        }, disabled: !isAuthenticated || isCreating })] }), _jsx("p", { className: "meeting-inline-hint", children: "Titulo visible para todos los invitados." })] }) }), _jsxs("div", { className: "meeting-form-section meeting-dual-fields", children: [_jsxs("div", { className: "form-group", children: [_jsx("label", { className: "form-label", htmlFor: "date", children: "Fecha" }), _jsx("input", { className: "form-input", id: "date", name: "date", type: "date", value: date, onChange: (event) => setDate(event.target.value), disabled: !isAuthenticated || isCreating, required: true })] }), _jsxs("div", { className: "form-group", children: [_jsx("label", { className: "form-label", htmlFor: "time", children: "Hora" }), _jsx("input", { className: "form-input", id: "time", name: "time", type: "time", value: time, onChange: (event) => setTime(event.target.value), disabled: !isAuthenticated || isCreating, required: true })] })] }), _jsxs("div", { className: "meeting-form-section", children: [_jsxs("div", { className: "form-group", children: [_jsx("label", { className: "form-label", htmlFor: "duration", children: "Duracion (minutos)" }), _jsx("input", { className: "form-input", id: "duration", name: "duration", type: "number", min: 5, max: 480, step: 5, value: duration, onChange: (event) => setDuration(Number(event.target.value)), disabled: !isAuthenticated || isCreating, required: true }), _jsx("p", { className: "field-help", children: "Minimo 5 minutos y maximo 480." })] }), _jsxs("div", { className: "form-group", children: [_jsx("label", { className: "form-label", htmlFor: "description", children: "Descripcion (opcional)" }), _jsx("textarea", { className: "form-textarea", id: "description", name: "description", rows: 3, placeholder: "Agenda, temas, invitados...", value: description, onChange: (event) => setDescription(event.target.value), disabled: !isAuthenticated || isCreating })] })] }), _jsxs("div", { className: "meeting-actions-inline meeting-actions-inline--stack", children: [_jsx("button", { type: "submit", className: "btn btn-dark meeting-primary", disabled: !isAuthenticated || !isCreateValid || isCreating, children: isCreating ? 'Creando...' : 'Crear reunion' }), _jsxs("div", { className: "meeting-inline-status", children: [!isAuthenticated &amp;&amp; (_jsx("p", { className: "form-hint form-hint-error", children: "Inicia sesion para crear reuniones." })), createdMeeting &amp;&amp; (_jsxs("p", { className: "form-hint form-hint-success", children: ["Reunion creada. ID: ", createdMeeting.id] }))] })] }), _jsx(Tooltip, { id: "create-meeting-tooltip", place: "bottom", offset: 6, className: "field-error-tooltip field-error-tooltip--error", openOnClick: false, isOpen: Boolean(createErrorMessage), content: createErrorMessage ?? undefined, noArrow: true })] })] }), _jsxs("section", { className: "meeting-column meeting-column-card", "aria-labelledby": "join-meeting-title", children: [_jsx("header", { className: "meeting-column-header", children: _jsxs("div", { children: [_jsx("h2", { id: "join-meeting-title", className: "meeting-column-title", children: "Unirse a reunion" }), _jsx("p", { className: "meeting-column-subtitle", children: "Ingresa un ID de reunion para unirte a una sesion existente." })] }) }), _jsxs("div", { className: "meeting-form-steps", "aria-hidden": "true", children: [_jsx("span", { className: "meeting-chip meeting-chip-muted", children: "ID unico" }), _jsx("span", { className: "meeting-chip meeting-chip-muted", children: "Verificacion" })] }), _jsxs("form", { id: "join-meeting-form", className: "meeting-form", onSubmit: handleLookupMeeting, children: [_jsx("div", { className: "meeting-form-section", children: _jsxs("div", { className: "form-group", children: [_jsx("label", { className: "form-label", htmlFor: "meetingId", children: "ID de la reunion" }), _jsxs("div", { className: "field-wrapper", children: [_jsx("span", { className: "field-icon", "aria-hidden": "true", children: _jsx(Hash, { size: 16 }) }), _jsx("input", { className: "form-input", id: "meetingId", name: "meetingId", type: "text", placeholder: "ej. abc-defg-hij", required: true, value: meetingId, "aria-describedby": joinErrorMessage ? 'join-meeting-tooltip' : undefined, "data-tooltip-id": "join-meeting-tooltip", onChange: (event) => {
                                                                            setMeetingId(event.target.value);
                                                                            setJoinErrorMessage(null);
                                                                        }, disabled: !isAuthenticated || isLoading })] }), _jsx("p", { className: "field-help", children: "Formato esperado: tres bloques con guiones (abc-defg-hij)." })] }) }), _jsxs("div", { className: "meeting-actions-inline meeting-actions-inline--stack", children: [_jsx("button", { type: "submit", className: "btn meeting-secondary", disabled: !isAuthenticated || !isJoinValid || isLoading, children: isLoading ? 'Buscando...' : 'Unirse a reunion' }), _jsxs("div", { className: "meeting-inline-status", children: [selectedMeeting &amp;&amp; (_jsxs("p", { className: "form-hint form-hint-success", children: ["Reunion encontrada: ", selectedMeeting.title, " (", selectedMeeting.id, ")"] })), !isAuthenticated &amp;&amp; (_jsx("p", { className: "form-hint form-hint-error", children: "Inicia sesion para consultar reuniones." }))] })] }), _jsx(Tooltip, { id: "join-meeting-tooltip", place: "bottom", offset: 6, className: "field-error-tooltip field-error-tooltip--error", openOnClick: false, isOpen: Boolean(joinErrorMessage), content: joinErrorMessage ?? undefined, noArrow: true })] }), _jsxs("div", { className: "meeting-tips", children: [_jsx("p", { className: "meeting-tips-title", children: "Tips rapidos" }), _jsxs("ul", { children: [_jsx("li", { children: "Comparte el ID solo con invitados de confianza." }), _jsx("li", { children: "Verifica tu microfono antes de entrar." }), _jsx("li", { children: "Si la reunion no abre, revisa pop-ups o bloqueadores." })] })] })] })] }), _jsxs("section", { className: "quick-guide", "aria-label": "Guia rapida para usar las reuniones", children: [_jsx("h2", { className: "quick-guide-title", children: "Guia rapida" }), _jsxs("div", { className: "quick-guide-steps", children: [_jsxs("article", { className: "quick-step", children: [_jsx("span", { className: "quick-step-badge", children: "1" }), _jsx("h3", { children: "Crear o unirse" }), _jsx("p", { children: "Inicia una nueva reunion o unete usando un ID de reunion compartido contigo." })] }), _jsxs("article", { className: "quick-step", children: [_jsx("span", { className: "quick-step-badge", children: "2" }), _jsx("h3", { children: "Compartir ID de reunion" }), _jsx("p", { children: "Comparte el ID de reunion con los participantes para que puedan unirse." })] }), _jsxs("article", { className: "quick-step", children: [_jsx("span", { className: "quick-step-badge", children: "3" }), _jsx("h3", { children: "Comenzar a colaborar" }), _jsx("p", { children: "Usa video, audio y chat para comunicarte y trabajar con tu equipo." })] })] })] })] }), isAuthenticated ? (_jsxs("section", { className: "meeting-column", "aria-label": "Tus reuniones", children: [_jsx("h2", { className: "meeting-column-title", children: "Tus reuniones" }), isLoading ? (_jsx("p", { children: "Cargando reuniones..." })) : meetings.length === 0 ? (_jsx("p", { children: "Todavia no has creado reuniones." })) : (_jsx("ul", { className: "meeting-list-items", children: meetings.map((meeting) => (_jsx("li", { className: "meeting-list-item", children: _jsxs("div", { className: "meeting-list-main", children: [_jsxs("div", { children: [_jsx("strong", { children: meeting.title }), " - ", meeting.date, " ", meeting.time, " (ID: ", meeting.id, ")", editingId === meeting.id &amp;&amp; (_jsx("span", { className: "badge badge-info", style: { marginLeft: '8px' }, children: "Editando" }))] }), _jsxs("div", { className: "meeting-list-actions", children: [_jsx("button", { type: "button", className: "btn btn-small", onClick: () => handleEditMeeting(meeting), disabled: isLoading, children: "Editar" }), _jsx("button", { type: "button", className: "btn btn-danger btn-small", onClick: () => handleDeleteMeeting(meeting.id), disabled: isLoading, children: "Eliminar" })] })] }) }, meeting.id))) }))] })) : (_jsx("p", { className: "form-hint form-hint-error", children: "Inicia sesin para listar tus reuniones." }))] }) }));
}
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.5</a> on Thu Dec 11 2025 00:35:36 GMT-0500 (hora est√°ndar de Colombia) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
